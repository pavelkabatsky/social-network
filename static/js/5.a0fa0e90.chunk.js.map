{"version":3,"sources":["common/validation/validation.module.css","common/validation/formControls.jsx","common/validation/validation.jsx","hoc/withAuthRedirect.js","components/Messages/Messages.module.css","components/Messages/MessageItem/MessageItem.module.css","components/Messages/DialogItem/dialogItem.module.css","components/Messages/MessageItem/MessageItem.jsx","components/Messages/DialogItem/DialogItem.jsx","components/Messages/Messages.jsx","components/Messages/DialogsContainer.jsx"],"names":["module","exports","elementCreator","Element","input","meta","props","hasError","error","touched","className","styles","formControl","required","value","undefined","maxLength","max","length","mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","ComponentContainer","this","to","React","connect","Message","s","messages__item","text","Dialog","item","item_icon","src","alt","id","name","Textarea","ReduxNewMessageForm","reduxForm","form","onSubmit","handleSubmit","Field","component","placeholder","validate","Messages","dialogsElements","dialogsPage","dialogs","map","dialog","key","userName","messagesElements","messages","message","messagesWrap","messagesScroller","values","sendMessage","newMessageText","compose","dispatch","sendMessageActionCreator"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,YAAc,gCAAgC,MAAQ,0BAA0B,UAAY,gC,kHCEjGC,EAAiB,SAAAC,GAAO,OAAI,YAAgC,IAA7BC,EAA4B,EAA5BA,MAAOC,EAAqB,EAArBA,KAASC,EAAY,gCAC9DC,EAAWF,EAAKG,OAASH,EAAKI,QACpC,OACI,yBAAKC,UAAWC,IAAOC,YAAc,KAAOL,EAAWI,IAAOH,MAAQ,KAClE,kBAACL,EAAD,iBAAcC,EAAWE,IACzB,6BACKC,EAAW,8BAAOF,EAAKG,OAAgB,Q,iCCPxD,oEAAO,IAAMK,EAAW,SAAAC,GAAK,OAAKA,GAA0B,kBAAVA,OAAqBC,EAAY,YACtEC,EAAY,SAACC,GAAD,OAAS,SAACH,GAAD,OAC9BA,GAASA,EAAMI,OAASD,EAAxB,kBAAyCA,EAAzC,yBAAiEF,K,+ICEjEI,EAAmB,SAACC,GACpB,MAAO,CACHC,OAASD,EAAME,KAAKD,SAIfE,EAAmB,SAACC,GAAe,IACtCC,EADqC,iLAGnC,OAAKC,KAAKpB,MAAMe,OAGT,kBAACG,EAAcE,KAAKpB,OAFhB,kBAAC,IAAD,CAAUqB,GAAI,eAJU,GACVC,IAAMJ,WAUvC,OADkCK,YAAQV,EAARU,CAAyBJ,K,oBCrB/DzB,EAAOC,QAAU,CAAC,aAAe,+BAA+B,QAAU,0BAA0B,SAAW,2BAA2B,iBAAmB,qC,oBCA7JD,EAAOC,QAAU,CAAC,SAAW,8BAA8B,eAAiB,oCAAoC,OAAS,8B,oBCAzHD,EAAOC,QAAU,CAAC,KAAO,yBAAyB,UAAY,8BAA8B,OAAS,6B,wGCUtF6B,EARC,SAAAxB,GACZ,OACI,yBAAKI,UAAYqB,IAAEC,gBACd1B,EAAM2B,O,yBCSJC,EAXA,SAAA5B,GACX,OACI,yBAAKI,UAAWqB,IAAEI,MACd,yBAAKzB,UAAWqB,IAAEK,WACd,yBAAKC,IAAI,2DAA2DC,IAAI,YAE5E,kBAAC,IAAD,CAASX,GAAI,aAAerB,EAAMiC,IAAKjC,EAAMkC,Q,oCCDnDC,EAAWvC,YAAe,YAgB1BwC,EAAsBC,YAAU,CAACC,KAAO,qBAAlBD,EAdL,SAACrC,GACpB,OACI,0BAAMuC,SAAUvC,EAAMwC,cAClB,kBAACC,EAAA,EAAD,CACIP,KAAO,iBACPQ,UAAYP,EACZQ,YAAY,uGACZC,SAAY,CAACrC,OAEjB,8FA+BGsC,EAxBE,SAAC7C,GACd,IAAM8C,EAAkB9C,EAAM+C,YAAYC,QAAQC,KAAI,SAAAC,GAAM,OAAI,kBAAC,EAAD,CAAQC,IAAKD,EAAOjB,GAAIC,KAAMgB,EAAOE,SAAUnB,GAAIiB,EAAOjB,QACpHoB,EAAmBrD,EAAM+C,YAAYO,SAASL,KAAI,SAAAM,GAAO,OAAI,kBAAC,EAAD,CAASJ,IAAKI,EAAQtB,GAAIN,KAAM4B,EAAQ5B,UAM3G,OACI,yBAAKvB,UAAWqB,IAAE+B,cACd,yBAAKpD,UAAWqB,IAAEuB,SACbF,GAEL,yBAAK1C,UAAWqB,IAAE6B,UACd,yBAAKlD,UAAWqB,IAAEgC,kBACbJ,GAEL,kBAACjB,EAAD,CAAqBG,SAbb,SAACmB,GACjB1D,EAAM2D,YAAYD,EAAOE,sB,yBCZlBC,sBACXtC,aAboB,SAACT,GAAD,MAAY,CAChCiC,YAAcjC,EAAMiC,gBAGG,SAACe,GAAD,MAAe,CAEtCH,YAAc,SAACJ,GACXO,EAASC,YAAyBR,SAOtCtC,IAFW4C,CAGbhB","file":"static/js/5.a0fa0e90.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"validation_formControl__1i13-\",\"error\":\"validation_error__SlIOK\",\"formError\":\"validation_formError__18rQx\"};","import React from 'react';\r\nimport styles from './validation.module.css'\r\n\r\nexport const elementCreator = Element => ({ input, meta, ...props }) => {\r\n    const hasError = meta.error && meta.touched;\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n            <Element  {...input} {...props} />\r\n            <div>\r\n                {hasError ? <span>{meta.error}</span> : ''}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","\r\n\r\nexport const required = value =>  value || typeof value === 'number' ? undefined : 'Required';\r\nexport const maxLength = (max) => (value) => \r\n    value && value.length > max ? `Must be ${max} symbols or less` : undefined\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","\r\nimport React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nlet mapStateToProps =  (state) => {\r\n    return {\r\n        isAuth : state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class ComponentContainer extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) {\r\n                return <Redirect to={'/login'} />\r\n            }\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let connectedComponentContainer = connect(mapStateToProps)(ComponentContainer)\r\n    return connectedComponentContainer;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messagesWrap\":\"Messages_messagesWrap__16MYo\",\"dialogs\":\"Messages_dialogs__3FiHK\",\"messages\":\"Messages_messages__5eAHZ\",\"messagesScroller\":\"Messages_messagesScroller__3yRLh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"MessageItem_messages__1jwn2\",\"messages__item\":\"MessageItem_messages__item__KGvG8\",\"_right\":\"MessageItem__right__1OSsP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"dialogItem_item___4pa8\",\"item_icon\":\"dialogItem_item_icon__1Oj4e\",\"active\":\"dialogItem_active__RcqMZ\"};","import React from 'react';\r\nimport s from './MessageItem.module.css';\r\n\r\nconst Message = props => {\r\n    return (\r\n        <div className={ s.messages__item } >\r\n            {props.text}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport s from './dialogItem.module.css';\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Dialog = props => {\r\n    return (\r\n        <div className={s.item}>\r\n            <div className={s.item_icon}>\r\n                <img src=\"https://klike.net/uploads/posts/2019-03/1551512886_9.jpg\" alt=\"avatar\"/>\r\n            </div>\r\n            <NavLink to={'/messages/' + props.id}>{props.name}</NavLink>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Dialog;","import React from 'react';\r\nimport s from './Messages.module.css';\r\nimport Message from './MessageItem/MessageItem';\r\nimport Dialog from './DialogItem/DialogItem';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { elementCreator } from '../../common/validation/formControls';\r\nimport { required } from '../../common/validation/validation';\r\n\r\n\r\nconst Textarea = elementCreator('textarea');\r\n\r\nconst NewMessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field\r\n                name = 'newMessageText'\r\n                component= {Textarea}\r\n                placeholder='Введите сообщение...'\r\n                validate = {[required]}\r\n            />\r\n            <button>Отправить</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst ReduxNewMessageForm = reduxForm({form : 'dialogsNewMessage'})(NewMessageForm)\r\n\r\nconst Messages = (props) => {\r\n    const dialogsElements = props.dialogsPage.dialogs.map(dialog => <Dialog key={dialog.id} name={dialog.userName} id={dialog.id} />);\r\n    const messagesElements = props.dialogsPage.messages.map(message => <Message key={message.id} text={message.text} />);\r\n \r\n    const sendMessage = (values) => {\r\n        props.sendMessage(values.newMessageText);\r\n    }\r\n\r\n    return (\r\n        <div className={s.messagesWrap}>\r\n            <div className={s.dialogs}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                <div className={s.messagesScroller}>\r\n                    {messagesElements}\r\n                </div>\r\n                <ReduxNewMessageForm onSubmit={sendMessage}/>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Messages;","\r\nimport { sendMessageActionCreator } from '../../redux/dialogsReducer';\r\nimport Messages from './Messages';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    dialogsPage : state.dialogsPage\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n\r\n    sendMessage : (message) => {\r\n        dispatch(sendMessageActionCreator(message))\r\n    }\r\n    \r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Messages)"],"sourceRoot":""}